{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export function fetchImages(input) {\n    const searchParams = new URLSearchParams({\n        key: \"43196353-af8080fd641e1fef708fa4d1d\",\n        q: input,\n        image_type: \"photo\",\n        orientation: \"horizontal\",\n        safesearch: true,\n    });\n    \n    const url = `https://pixabay.com/api/?${searchParams}`;\n\n    return fetch(url).then(response => {\n            if (!response.ok) {\n                throw new Error(response.status);\n            }\n            return response.json();\n        })\n        .catch(error => {\n            console.log(error);\n        })\n}","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport { lightbox } from \"../main\";\nimport {loadScreen} from \"../main\";\nimport { hideLoadScreen } from \"../main\";\n\nexport const gallery = document.querySelector(\".gallery\");\n\nexport function renderImages(array) {\n    if (array.length < 1) {\n        iziToast.show({\n            message: 'Sorry, there are no images matching your search query. Please try again!',\n            color: 'red',\n            position: 'topCenter',\n        });\n        hideLoadScreen();\n    } else {\n        const markup = array\n            .map((item) => {\n                return `<li class=\"item-box\">\n                <a class=\"large-image\" href=\"${item.largeImageURL}\">\n                <img class=\"preview\" src=\"${item.webformatURL}\" alt=\"${item.tags}\" />\n                </a>\n                <ul class=\"stat-list\">\n                <li class=\"stat-item\">\n                <p class=\"stat-value\">\n                <span class=\"stat-name\">Likes\n                </span>\n                ${item.likes}</p>\n                </li>\n                <li class=\"stat-item\">\n                <p class=\"stat-value\">\n                <span class=\"stat-name\">Views\n                </span>\n                ${item.views}</p>\n                </li>\n                <li class=\"stat-item\">\n                <p class=\"stat-value\">\n                <span class=\"stat-name\">Comments\n                </span>\n                ${item.comments}</p>\n                </li>\n                <li class=\"stat-item\">\n                <p class=\"stat-value\">\n                <span class=\"stat-name\">Downloads\n                </span>\n                ${item.downloads}</p>\n                </li>\n                </ul>\n                </li>`;\n            })\n            .join(\"\");\n        gallery.insertAdjacentHTML(\"beforeend\", markup);\n        lightbox.refresh();\n    }\n    hideLoadScreen();\n}\n\n","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport { fetchImages } from \"./js/pixabay-api\";\nimport { gallery, renderImages } from \"./js/render-functions\";\n\nexport const loadScreen = document.querySelector(\".loader\");\n\nfunction showLoadScreen() {\n    loadScreen.classList.remove(\"is-hidden\")\n};\n\nexport function hideLoadScreen() {\n    loadScreen.classList.add(\"is-hidden\")\n};\n\nconst form = document.querySelector(\".form\");\n\nexport const lightbox = new SimpleLightbox('.gallery a', { \n    captionsData: \"alt\",\n    captionDelay: 250,\n});\n\nform.addEventListener(\"submit\", (event) => {\n    event.preventDefault();\n    showLoadScreen();\n    gallery.innerHTML = \"\";\n    let inputValue = event.target.elements.search.value.trim();\n    if (inputValue !== \"\") {\n        fetchImages(inputValue).then((resolve) => {\n            renderImages(resolve.hits);\n            form.reset();\n        })\n            .catch((error) => {\n                console.log(error);\n                hideLoadScreen();\n            });\n    } else {\n        iziToast.show({\n            message: 'Search field is empty',\n            color: 'red',\n            position: 'topCenter',\n        });\n        hideLoadScreen();\n    }\n    });"],"names":["fetchImages","input","url","response","error","gallery","renderImages","array","iziToast","hideLoadScreen","markup","item","lightbox","loadScreen","showLoadScreen","form","SimpleLightbox","event","inputValue","resolve"],"mappings":"6vBAAO,SAASA,EAAYC,EAAO,CAS/B,MAAMC,EAAM,4BARS,IAAI,gBAAgB,CACrC,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACpB,CAAK,CAEmD,GAEpD,OAAO,MAAMC,CAAG,EAAE,KAAKC,GAAY,CAC3B,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEnC,OAAOA,EAAS,MAC5B,CAAS,EACA,MAAMC,GAAS,CACZ,QAAQ,IAAIA,CAAK,CAC7B,CAAS,CACT,CCVO,MAAMC,EAAU,SAAS,cAAc,UAAU,EAEjD,SAASC,EAAaC,EAAO,CAChC,GAAIA,EAAM,OAAS,EACfC,EAAS,KAAK,CACV,QAAS,2EACT,MAAO,MACP,SAAU,WACtB,CAAS,EACDC,QACG,CACH,MAAMC,EAASH,EACV,IAAKI,GACK;AAAA,+CACwBA,EAAK,aAAa;AAAA,4CACrBA,EAAK,YAAY,UAAUA,EAAK,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAO9DA,EAAK,KAAK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAMVA,EAAK,KAAK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAMVA,EAAK,QAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAMbA,EAAK,SAAS;AAAA;AAAA;AAAA,sBAInB,EACA,KAAK,EAAE,EACZN,EAAQ,mBAAmB,YAAaK,CAAM,EAC9CE,EAAS,QAAO,CACnB,CACDH,GACJ,CCnDO,MAAMI,EAAa,SAAS,cAAc,SAAS,EAE1D,SAASC,GAAiB,CACtBD,EAAW,UAAU,OAAO,WAAW,CAC3C,CAEO,SAASJ,GAAiB,CAC7BI,EAAW,UAAU,IAAI,WAAW,CACxC,CAEA,MAAME,EAAO,SAAS,cAAc,OAAO,EAE9BH,EAAW,IAAII,EAAe,aAAc,CACrD,aAAc,MACd,aAAc,GAClB,CAAC,EAEDD,EAAK,iBAAiB,SAAWE,GAAU,CACvCA,EAAM,eAAc,EACpBH,IACAT,EAAQ,UAAY,GACpB,IAAIa,EAAaD,EAAM,OAAO,SAAS,OAAO,MAAM,OAChDC,IAAe,GACflB,EAAYkB,CAAU,EAAE,KAAMC,GAAY,CACtCb,EAAaa,EAAQ,IAAI,EACzBJ,EAAK,MAAK,CACtB,CAAS,EACI,MAAOX,GAAU,CACd,QAAQ,IAAIA,CAAK,EACjBK,GAChB,CAAa,GAELD,EAAS,KAAK,CACV,QAAS,wBACT,MAAO,MACP,SAAU,WACtB,CAAS,EACDC,IAER,CAAK"}